<!DOCTYPE html>
<html>
    <head>
        <%-include ('../partials/head.ejs')%>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
<!-- MDB -->
<!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.css" rel="stylesheet"/> -->
<!-- LOGIN MODAL  -->
<link href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- END LOGIN MODAL -->
</head>
    <body>
        <nav>
            <%-include ('../partials/nav.ejs')%>
        </nav>
        <%if(trips.length === 0){%>
        <h1>There are no trips</h1>
        
        
        <%}else{%>
      <!--------------------------------------------------------------------------------->  
         <!-- Responsive navbar-->
         
        <!-- Page Content-->
            <div class="container px-4 px-lg-5">
            
            <div class="row gx-4 gx-lg-5 align-items-center my-5">
                <div class="col-lg-7">
         <!--------------------Carousel------------------>
            <!-- Carousel wrapper -->
<div
id="carouselVideoExample"
class="carousel slide carousel-fade"
data-mdb-ride="carousel"
>
<!-- Indicators -->
<div class="carousel-indicators">
  <button
    type="button"
    data-mdb-target="#carouselVideoExample"
    data-mdb-slide-to="0"
    class="active"
    aria-current="true"
    aria-label="Slide 1"
  ></button>
  <button
    type="button"
    data-mdb-target="#carouselVideoExample"
    data-mdb-slide-to="1"
    aria-label="Slide 2"
  ></button>
  <button
    type="button"
    data-mdb-target="#carouselVideoExample"
    data-mdb-slide-to="2"
    aria-label="Slide 3"
  ></button>
</div>

<!-- Inner -->
<div class="carousel-inner">
  <!-- Single item -->
  <div class="carousel-item active">
    <video class="img-fluid" autoplay loop muted>
      <source src="https://mdbcdn.b-cdn.net/img/video/Tropical.mp4" type="video/mp4" />
    </video>
    <div class="carousel-caption d-none d-md-block">
      <h5>Plan Your Trip today </h5>
      <p>
        Getaway your way.
      </p>
    </div>
  </div>

  <!-- Single item -->
  <div class="carousel-item">
    <video class="img-fluid" autoplay loop muted>
      <source src="https://mdbcdn.b-cdn.net/img/video/forest.mp4" type="video/mp4" />
    </video>
    <div class="carousel-caption d-none d-md-block">
      <h5>Get Inspired</h5>
      <p>
        Look at trips that other users have created
      </p>
    </div>
  </div>

  <!-- Single item -->
  <div class="carousel-item">
    <video class="img-fluid" autoplay loop muted>
      <source
        src="https://mdbcdn.b-cdn.net/img/video/Agua-natural.mp4"
        type="video/mp4"
      />
    </video>
    <div class="carousel-caption d-none d-md-block">
      <h5>Go Exploring</h5>
      <p>
        Explore activities available at your destination
      </p>
    </div>
  </div>
</div>
<!-- Inner -->

<!-- Controls -->
<button
  class="carousel-control-prev"
  type="button"
  data-mdb-target="#carouselVideoExample"
  data-mdb-slide="prev"
>
  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Previous</span>
</button>
<button
  class="carousel-control-next"
  type="button"
  data-mdb-target="#carouselVideoExample"
  data-mdb-slide="next"
>
  <span class="carousel-control-next-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Next</span>
</button>
</div>
<!-- Carousel wrapper -->
      
                </div>
                <div class="col-lg-5">
                    <h1 class="font-weight-light">Start Planning for the trip of a lifetime!</h1>
                    <p>Create an account to begin planning your trips! Check out the top trending destinations and see trips others have created.</p>
                    
                    <%if(!isLoggedIn){%>
                      <a class="btn btn-primary" href="#myModal" class="trigger-btn" data-toggle="modal">Start planning</a>
                    <%}%>
                </div>
            <!-- Call to Action-->
            <div class="card text-white bg-dark my-5 py-4 text-center" id="actionbar" >
                <div class="card-body bg-dark" ><p class="text-white m-0">Rosie's Travel App &#x2122;  is a Member Company of Rosie's Riveters International </p></div>
            </div>
            <!-------------Map------------------>
              <div class="col-lg-7" id="map"  ></div>
              <!------------------------------------>   
            <!-- Content Row-->
            <h2 class="card-title">Trending Trips</h2>
            <%if(trendingTrips.length < 3){%>
                <h2>There are no trips in the database!</h2>
            <%}else{%>
                    <!-- card 1 -->
                    <div class="row gx-4 gx-lg-5">
                        <div class="col-md-4 mb-5">
                            <div class="card h-100">
                                <div class="card-body">
                                    <p><%=trendingTrips[0].destinationCity%></p>
                                    <img src="https://i.imgur.com/tuguLfN.jpg" alt="exploring-img" class="trending-image">
                                </div>
                                <div class="card-footer"><a class="btn btn-primary btn-sm" href="/trips/<%=trendingTrips[0]._id%>">Start Exploring</a></div>
                            </div>
                        </div>
                        <!-- card 2 -->
                        <div class="col-md-4 mb-5">
                            <div class="card h-100">
                                <div class="card-body">
                                    <p><%=trendingTrips[1].destinationCity%></p>
                                    <img src="https://i.imgur.com/IuRPvRk.jpg" alt="exploring-img" class="trending-image">

                                </div>
                                <div class="card-footer"><a class="btn btn-primary btn-sm" href="/trips/<%=trendingTrips[1]._id%>">Start Exploring</a></div>
                            </div>
                        </div>
                        <!-- card 3 -->
                        <div class="col-md-4 mb-5">
                            <div class="card h-100">
                                <div class="card-body">
                                    <p><%=trendingTrips[2].destinationCity%></p>
                                    <img src="https://i.imgur.com/Fg21CZp.jpg" alt="exploring-img" class="trending-image">
                                </div>
                                <div class="card-footer"><a class="btn btn-primary btn-sm" href="/trips/<%=trendingTrips[2]._id%>">Start Exploring</a></div>
                            </div>
                        </div>
                <!-- END OF card 3 -->
                <%}%>
      <script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.11.0/mdb.min.js"
></script>
      <script>
          async function initMap() {
              const myLatLng = { lat: -25.363, lng: 131.044 };
              const map = await new google.maps.Map(document.getElementById("map"), {
                      zoom: 1,
                      center: myLatLng,
                  });
          
                  new google.maps.Marker({
                      position: myLatLng,
                                  map,
                      title: "Hello World!",
                  });
                  }
          initMap();
      </script> 
    <head>

    </head>

    <!--BEGIN LOGIN MODAL-->
    <div id="myModal" class="modal fade">
      <div class="modal-dialog modal-login">
        <div class="modal-content">
          <div class="modal-header">				
            <h4 class="modal-title">Member Login</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">
            <form action="/users/login" method="POST">
              <div class="form-group">
                <i class="fa fa-user"></i>
                <input type="text" class="form-control" placeholder="Username" required="required" name="username">
              </div>
              <div class="form-group">
                <i class="fa fa-lock"></i>
                <input type="password" class="form-control" placeholder="Password" required="required" name="password">	
              </div>
              <div class="form-group">
                <input type="submit" class="btn btn-primary btn-block btn-lg" value="Login">
              </div>
            </form>				 
          </div>
          <div class="modal-footer">
          </div>
        </div>
      </div>
    </div>
      <!-- END LOGIN MODAL   -->
    
    <!-- I THINK THIS GUY'S A STRAY -->
    <!-- <%}%> -->

<!-- BEGIN CREATE USER MODAL -->
  <div class="modal fade" id="modalRegisterForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Sign up</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <form action="/users/new" method="POST">
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="orangeForm-name" class="form-control validate" placeholder="Must be unique" name="username">
          <label data-error="wrong" data-success="right" for="orangeForm-name">Your username</label>
        </div>
        <div class="md-form mb-5">
          <input type="text" id="orangeForm-email" class="form-control validate" name="name">
          <label data-error="wrong" data-success="right" for="orangeForm-email">Your name</label>
        </div>
        <div class="md-form mb-4">
          <input type="password" id="orangeForm-pass" class="form-control validate" placeholder="8-12 characters" name="password" pattern=".{8,12}" required title="Password must be 8-12 characters" required>
          <label data-error="wrong" data-success="right" for="orangeForm-pass">Your password</label>
        </div>
        <div class="modal-footer d-flex justify-content-center">
          <button type="submit" class="btn btn-deep-orange">Sign up</button>
        </div>
      </form >
      </div>

    </div>
  </div>
</div>
<!-- END CREATE USER MODAL -->
    </html>
     <!-- Footer-->
     <footer class="py-5 bg-dark">
      <div class="container px-5"><p class="m-0 text-center text-white">Template courtesy of Boostrap@5</p></div>
  </footer>
</html>
</html>